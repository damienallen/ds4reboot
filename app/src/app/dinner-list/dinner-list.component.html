<section fxLayout="column" fxFlexAlign="stretch">
    <mat-card class="page-content-card" fxFlexAlign="center" style="margin-bottom:20px;">
        <mat-card-header>
            <div mat-card-avatar><i
                class="material-icons vertical-align-middle padding-bottom-3 icon-large">person</i>
            </div>
            <mat-card-title>
                Dinner list
            </mat-card-title>
            <mat-card-subtitle>Person</mat-card-subtitle>
        </mat-card-header>
        <mat-card-footer>
            <button mat-button (click)="toggleWeek()">Show {{showWeek ? "TODAY" : "WEEK"}}</button>
        </mat-card-footer>
    </mat-card>
    <mat-card class="page-content-card selectable mat-elevation-z24" fxFlexAlign="center"
              *ngFor="let dinner of dinners" [@slideInOut]="weekCollapse"
              [@slideOpen]="dayCollapse == dinner.date.toString()" (click)="openDinner(dinner)">
        <mat-card-header>
            <div mat-card-avatar>
                <i
                    class="material-icons vertical-align-middle padding-bottom-3 icon-large" [matBadge]="dinner.num_eating"
                    matBadgeColor="primary">
                    local_dining
                </i>
            </div>
            <mat-card-title style="display: flex;">
                {{convertDateToWeekday(dinner.date)}} {{ dinner.eta_time ? "-" + dinner.eta_time : ""}}
                <span class="fill-remaining-space"></span>
            </mat-card-title>
            <mat-card-subtitle>{{dinner.date | date : 'MMMM d'}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <span
                style="display:block">Cook: <em>{{ dinner.cook ? dinner.cook.housemate.display_name : "None" }}</em></span>
            <span style="display:block">People: {{ dinner.num_eating }}</span>
        </mat-card-content>
    </mat-card>
    {{ dinnersWeek.length == 0 ? "No dinners created this week." : ""}}
</section>
